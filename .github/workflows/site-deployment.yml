name: site-deployment

on:
  push:
    branches: 
      - dev

env:
  NODE_VERSION: 16.14.0
  ## SITE CONFIG
  BASE_URL: '/'
  ## SEO
  SITE_URL: ''
  SITE_TITLE: 'Off the Clock'
  SITE_DESCRIPTION: ''
  OG_IMAGE: ''
  OG_IMAGE_WIDTH: 1200
  OG_IMAGE_HEIGHT: 630
  TWITTER_IMAGE: ''
  TWITTER_USER: ''
  ## BRANDING
  LOGO_PRIMARY: '/img/offtheclock-icon-logo.png'
  LOGO_SECONDARY: '/img/offtheclock-icon-logo.png'
  FAVICON: '/img/offtheclock-favicon.png' 


jobs:
  deploy:
    runs-on:
      - self-hosted
      - offtheclock
    
    steps:
      - name: Checkout Code
        uses: actions/checkout@v3
        
      - name: Set Enviroment Variables
        run: |
          touch .env
          echo "BASE_URL=${{ env.BASE_URL }}" >> .env

      - name: Show .env file
        run: cat .env
